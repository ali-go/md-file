#### 1、关于node版本切换导致npm包版本异常

情景实例描述：

（1）内网开发node8.9版本，外网自己电脑14.6版本，为了和内网一致，于是卸载14.6版本，安装了8.9版本；正常创建项目，安装依赖，把整个项目压缩复制进内网环境，正常开发。

（2）某段时间后，自己电脑由于某些原因把node升级到了新版本，又过了一阵子，内网的项目需要增加新的依赖，于是把自己电脑的新版本node卸载，重新安装8.9版本，并在原项目中安装所需的依赖包。

（3）此时npm install任何依赖都会提示node版本过低，且url is not define 的报错，于是乎怎么也安装不上依赖。

问题原因：

造成该情景的原因是在卸载新版本的node的时候并没有把对应的npm管理工具进行移除。举个例子，最开始安装的8.9node对应npm5.5.1，安装最新版本的node之后把npm工具更新到了7.7.1，但是卸载新版本的node，重新安装8.9node的时候，这个7.7.1版本的npm工具并没有按期望的移除，所以会导致最后node8.9和npm7.7.1，node和npm版本不匹配，无法安装新的依赖。

解决方法：

（1）第一种方法是直接升级node版本，只要高版本的node能执行7.7.1的npm工具就可以，但是这个情况会导致该项目最后安装的依赖是基于升级后的node版本，此时如果把node_module依赖包文件夹复制进内网覆盖原有的依赖，那么新安装的依赖有可能在内网node8.9的环境中无法运行，当然如果内网的node版本环境你有权限升级，那就没关系。

（2）第二种方法是找到C:\Users\19979357151\AppData\Roaming该路径中(电话号码属于我的window用户)，删除npm和npm-cache这两个文件夹，这是存放npm工具的文件(注意有可能AppData这个文件夹会被系统隐藏，可自行显示隐藏文件，如果不会亦可以直地址栏填入该地址进行跳转)，把这两个文件夹删除之后，再重新安装node8.9，那么就会新生成这两个文件夹，此时就是基于8.9node的5.5.1npm，就可在项目中正常安装新的依赖。
